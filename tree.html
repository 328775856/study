<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>tree</title>
    <style type="text/css">
    * {
        padding: 0;
        margin: 0;
        list-style: none;
    }

    .layout {
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: row;
    }

    .left,
    .middle,
    .rihgt {
        width: 100px;
        height: 500px;
        border: 1px #eee solid;
    }

    .parent ul li {
        margin-left: 20px;
    }

    .selected {
        background: #ccc;
    }
    </style>
</head>

<body>
    <div class="layout">
        <div class="left">
            <ul class="main">
                <li class="parent">L
                    <ul id="left">
                        <li>a</li>
                        <li>b</li>
                        <li>c</li>
                        <li>d</li>
                        <li>e</li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="middle" style="text-align: center;padding-top: 80px;">
            <button id="leftBtn">
                <</button>
                    <br>
                    <button id="rightBtn">></button>
        </div>
        <div class="rihgt">
            <ul class="main">
                <li class="parent">R
                    <ul id="right">
                        <li>aa</li>
                        <li>bb</li>
                        <li>cc</li>
                        <li>dd</li>
                        <li>ee</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <script type="text/javascript">
    var left = document.getElementById('left').getElementsByTagName('li');
    var right = document.getElementById('right').getElementsByTagName('li');
    var leftBtn = document.getElementById('leftBtn');
    var rightBtn = document.getElementById('rightBtn');
    var arr = [];
    var num=0;
    //var arrR=[];
    //  	function init(){
    //  left = document.getElementById('left').getElementsByTagName('li');
    // right = document.getElementById('right').getElementsByTagName('li');
    // leftBtn=document.getElementById('leftBtn');
    // rightBtn=document.getElementById('rightBtn');
    // arrL=[];
    // arrR=[];
    //  	}

    function selected(list1, list2, arr, btn) {
        for (var i = 0; i < list1.length; i++) {
            list1[i].idx = i;
            list1[i].onclick = function() {
                if (this.className !== 'selected') {
                    this.setAttribute('class', 'selected');
                    arr.push(this.idx);
                    //alert(arr)
                } else {
                    this.setAttribute('class', '');
                   arr.splice(this.idx, 1);
                }
            }
        }
        btn.onclick = function() {
        		alert(arr);
            for (var i = 0; i < arr.length; i++) {
                alert(arr[i]);
                list1[arr[i]-num].setAttribute('class', '');
                list2[0].parentNode.appendChild(list1[arr[i]-num]);
                num++;
                arr.splice(arr[i]-num, 1);
            }

            num=0;
            //init();
        }
    }
    selected(left, right, arr, rightBtn), selected(right, left, arr, leftBtn);
    </script>
</body>

</html>